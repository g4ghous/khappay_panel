{"ast":null,"code":"import _classCallCheck from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import avatar2 from\"../component/assets/images/users/avatar2.jpg\";import React,{Component}from\"react\";import{Serverurl,Serverurlimg}from\"../Common/ServerUrl\";import axios from\"axios\";import $ from\"jquery\";export var GridOrders=/*#__PURE__*/function(_Component){_inherits(GridOrders,_Component);var _super=_createSuper(GridOrders);function GridOrders(props){var _this;_classCallCheck(this,GridOrders);_this=_super.call(this,props);_this.updateOrderStatus=function(id){localStorage.setItem(\"orderId\",id);console.log(\"order_id is: \",id);};_this.state={orderData:[],order:[]};return _this;}_createClass(GridOrders,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(\"token on GridCategory screen : \",localStorage.getItem(\"token\"));axios({method:\"get\",url:Serverurl+\"orders_show\",headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))},config:{headers:{\"Content-Type\":\"application/json\"}}}).then(function(res){console.log(\"orders_show api response.data is: \",res.data);_this2.setState({orderData:res.data});$(document).ready(function(){$(\"#datatable2\").DataTable();});}).catch(function(err){console.log(\"Error from orders_show api is: \",err);});}},{key:\"viewOrderProducts\",value:function viewOrderProducts(id){var _this3=this;axios({method:\"get\",url:Serverurl+\"orderproducts_search/\"+id,headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))},config:{headers:{\"Content-Type\":\"application/json\"}}}).then(function(res){console.log(\"orderproducts_search api response.data is: \",res.data);_this3.setState({order:res.data});$(document).ready(function(){$(\"#datatable2\").DataTable();});// console.log('data', res.data.data)\n}).catch(function(err){console.log(\"Error from orderproducts_search api is: \",err);});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-11 col-sm-11\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"list-head-btn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Orders List\"))),/*#__PURE__*/React.createElement(\"div\",{class:\"table-3\"},/*#__PURE__*/React.createElement(\"table\",{id:\"datatable2\",class:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Order Id\"),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Address\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.orderData.map(function(order){return/*#__PURE__*/React.createElement(\"tr\",{key:order.id},/*#__PURE__*/React.createElement(\"td\",null,order.id),/*#__PURE__*/React.createElement(\"td\",null,order.name),/*#__PURE__*/React.createElement(\"td\",null,order.address),/*#__PURE__*/React.createElement(\"td\",null,order.date),/*#__PURE__*/React.createElement(\"td\",null,order.status),/*#__PURE__*/React.createElement(\"td\",null,order.total),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"icon-pad\"},/*#__PURE__*/React.createElement(\"a\",{\"data-toggle\":\"modal\",\"data-target\":\"#exampleModalCenter\",onClick:_this4.viewOrderProducts.bind(_this4,order.id)},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-eye\"})),/*#__PURE__*/React.createElement(\"a\",{href:\"/component/updateOrder\",onClick:_this4.updateOrderStatus.bind(_this4,order.id)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-pencil-alt\"})))));}))))))),/*#__PURE__*/React.createElement(\"div\",{class:\"modal fade\",id:\"exampleModalCenter\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{class:\"modal-dialog modal-dialog-centered\",role:\"document\"},/*#__PURE__*/React.createElement(\"div\",{class:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{class:\"modal-header\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"modal-title\",id:\"exampleModalLongTitle\"},\"Order Details\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{class:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{class:\"table-3\"},/*#__PURE__*/React.createElement(\"table\",{id:\"datatable3\",class:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Order Id\"),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Qty\"),/*#__PURE__*/React.createElement(\"th\",null,\"Price\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.order.map(function(order_product){return/*#__PURE__*/React.createElement(\"tr\",{key:order_product.id},/*#__PURE__*/React.createElement(\"td\",null,order_product.order_id),/*#__PURE__*/React.createElement(\"td\",null,order_product.name),/*#__PURE__*/React.createElement(\"td\",null,order_product.quantity),/*#__PURE__*/React.createElement(\"td\",null,order_product.price));}))))),/*#__PURE__*/React.createElement(\"div\",{class:\"modal-footer\"})))))));}}]);return GridOrders;}(Component);export default GridOrders;","map":{"version":3,"sources":["D:/Office-Work/Panel/khappay_panel/src/component/GridOrders.js"],"names":["avatar2","React","Component","Serverurl","Serverurlimg","axios","$","GridOrders","props","updateOrderStatus","id","localStorage","setItem","console","log","state","orderData","order","getItem","method","url","headers","Authorization","config","then","res","data","setState","document","ready","DataTable","catch","err","map","name","address","date","status","total","viewOrderProducts","bind","order_product","order_id","quantity","price"],"mappings":"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","sourcesContent":["import avatar2 from \"../component/assets/images/users/avatar2.jpg\";\r\nimport React, { Component } from \"react\";\r\nimport { Serverurl, Serverurlimg } from \"../Common/ServerUrl\";\r\nimport axios from \"axios\";\r\nimport $ from \"jquery\";\r\n\r\nexport class GridOrders extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      orderData: [],\r\n      order: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\r\n      \"token on GridCategory screen : \",\r\n      localStorage.getItem(\"token\")\r\n    );\r\n\r\n    axios({\r\n      method: \"get\",\r\n      url: Serverurl + \"orders_show\",\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n      config: {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(\"orders_show api response.data is: \", res.data);\r\n\r\n        this.setState({\r\n          orderData: res.data,\r\n        });\r\n\r\n        $(document).ready(function () {\r\n          $(\"#datatable2\").DataTable();\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error from orders_show api is: \", err);\r\n      });\r\n  }\r\n\r\n  viewOrderProducts(id) {\r\n    axios({\r\n      method: \"get\",\r\n      url: Serverurl + \"orderproducts_search/\" + id,\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n      config: {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(\"orderproducts_search api response.data is: \", res.data);\r\n\r\n        this.setState({\r\n          order: res.data,\r\n        });\r\n\r\n        $(document).ready(function () {\r\n          $(\"#datatable2\").DataTable();\r\n        });\r\n\r\n        // console.log('data', res.data.data)\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error from orderproducts_search api is: \", err);\r\n      });\r\n  }\r\n\r\n  updateOrderStatus = (id) => {\r\n    localStorage.setItem(\"orderId\", id);\r\n    console.log(\"order_id is: \", id);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-lg-11 col-sm-11\">\r\n              <div class=\"card\">\r\n                <div class=\"card-body table-responsive\">\r\n                  <div className=\"list-head-btn\">\r\n                    <div className=\"head\">\r\n                      <h4>Orders List</h4>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"table-3\">\r\n                    <table id=\"datatable2\" class=\"table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Order Id</th>\r\n                          <th>Name</th>\r\n                          <th>Address</th>\r\n                          <th>Date</th>\r\n                          <th>Status</th>\r\n                          <th>Total</th>\r\n                          <th>Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        {this.state.orderData.map((order) => (\r\n                          <tr key={order.id}>\r\n                            <td>{order.id}</td>\r\n                            <td>{order.name}</td>\r\n                            <td>{order.address}</td>\r\n                            <td>{order.date}</td>\r\n                            <td>{order.status}</td>\r\n                            <td>{order.total}</td>\r\n\r\n                            <td>\r\n                              <div class=\"icon-pad\">\r\n                                <a\r\n                                  data-toggle=\"modal\"\r\n                                  data-target=\"#exampleModalCenter\"\r\n                                  onClick={this.viewOrderProducts.bind(\r\n                                    this,\r\n                                    order.id\r\n                                  )}\r\n                                >\r\n                                  <i className=\"fa fa-eye\"></i>\r\n                                </a>\r\n                                <a\r\n                                  href=\"/component/updateOrder\"\r\n                                  onClick={this.updateOrderStatus.bind(\r\n                                    this,\r\n                                    order.id\r\n                                  )}\r\n                                >\r\n                                  <i className=\"fas fa-pencil-alt\"></i>\r\n                                </a>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"modal fade\"\r\n              id=\"exampleModalCenter\"\r\n              tabindex=\"-1\"\r\n              role=\"dialog\"\r\n              aria-labelledby=\"exampleModalCenterTitle\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">\r\n                      Order Details\r\n                    </h5>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"close\"\r\n                      data-dismiss=\"modal\"\r\n                      aria-label=\"Close\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"modal-body\">\r\n                    <div class=\"table-3\">\r\n                      <table id=\"datatable3\" class=\"table\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Order Id</th>\r\n                            {/* <th>Image</th> */}\r\n                            <th>Name</th>\r\n                            <th>Qty</th>\r\n                            <th>Price</th>\r\n                          </tr>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                          {this.state.order.map((order_product) => (\r\n                            <tr key={order_product.id}>\r\n                              <td>{order_product.order_id}</td>\r\n                              {/* <td>\r\n                                <img src={order_product.image} width=\"70px\" />\r\n                              </td> */}\r\n                              <td>{order_product.name}</td>\r\n                              <td>{order_product.quantity}</td>\r\n                              <td>{order_product.price}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"modal-footer\">\r\n                    {/* <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button> */}\r\n                    {/* <button type=\"button\" class=\"btn btn-primary\">Save changes</button> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GridOrders;\r\n"]},"metadata":{},"sourceType":"module"}