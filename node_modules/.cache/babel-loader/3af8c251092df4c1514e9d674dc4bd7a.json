{"ast":null,"code":"import _defineProperty from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Office-Work\\\\Panel\\\\khappay_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";// import logo2 from \"../component/assets/\";\nimport{Serverurl}from\"../Common/ServerUrl\";import axios from\"axios\";import Button from\"reactstrap-button-loader\";import swal from\"sweetalert\";import logo3 from\"../../src/component/assets/images/logo_khappay.png\";export var TravelLogin=/*#__PURE__*/function(_Component){_inherits(TravelLogin,_Component);var _super=_createSuper(TravelLogin);function TravelLogin(props){var _this;_classCallCheck(this,TravelLogin);_this=_super.call(this,props);_this.handleEmailChange=function(event){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,event.target.name,event.target.value),_defineProperty(_this$setState,\"emailError\",\"\"),_this$setState));};_this.onKeyDown=function(event){// 'keypress' event misbehaves on mobile so we track 'Enter' key via 'keydown' event\nif(event.key===\"Enter\"){event.preventDefault();event.stopPropagation();_this.Login();}};_this.state={data:[],email:\"\",password:\"\",errorText:\"\",emailError:\"\",passwordError:\"\",errors:\"\",loading:false};return _this;}_createClass(TravelLogin,[{key:\"emailInput\",value:function emailInput(e){this.setState({errorText:e.target.value});}},{key:\"PasswordInput\",value:function PasswordInput(e){this.setState({password:e.target.value,errorText:\"\"});}},{key:\"Login\",value:function Login(e){var _this2=this;var data;e.preventDefault();var validation=true;var emailsyntax=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(this.state.password==\"\"){this.setState({errorText:\"*Password is required\"});validation=false;}if(!emailsyntax.test(this.state.email)){validation=false;this.setState({errorText:\"* Incorrect Email format.\"});}if(this.state.email==\"\"){this.setState({errorText:\"*Email is required\"});validation=false;}if(validation==true){var data={email:this.state.email,password:this.state.password};this.setState({loading:true});var error=document.getElementById(\"err\");if(this.state.email===\"\"||this.state.password===\"\"){this.setState({error:\"Please fill fields carefully\"});error.classList.add(\"errorMsg\");setTimeout(function(){error.classList.remove(\"errorMsg\");_this2.setState({error:\"\"});},3000);}else{var data;axios({method:\"post\",url:Serverurl+\"login\",data:data}).then(function(res){var validation=false;console.log(\"user type: \",res.data.Data.user_type);if(res.data.Data.user_type==\"admin\"){validation=true;// this.setState({\n//   loading: true,\n// });\n// setTimeout(() => {\n//   this.setState({\n//     loading: false,\n//   });\n//   this.setState((willSuccess) => {\n//     if (willSuccess) {\n//       swal(\"error_message[0]\", {\n//         icon: \"warning\",\n//       });\n//     } else {\n//       swal(\"Your imaginary file is safe!\");\n//     }\n//   });\n//   window.location.href = \"/\";\n// }, 3000);\nconsole.log(\"res\",res.data.success.token);console.log(\"Token\",res.data.token);localStorage.setItem(\"token\",res.data.success.token);window.location.href=\"/component/Dashboard\";}if(validation==false){_this2.setState({errorText:\"*Incorrect email or password\"});}_this2.setState({data:res.data,loading:false});if(res.data.status===true){localStorage.setItem(\"userId\",res.data.success.token);localStorage.setItem(\"email\",res.data.Data.email);localStorage.setItem(\"data\",res.data);}localStorage.setItem(\"userId\",res.data.success.token);// axios({\n//     method: 'get',\n//     url: Serverurl + 'user',\n//     headers: {\n//         Authorization: 'Bearer' + ' ' + res.data.data.access_token\n//     }\n// })\n// .then((response) => {\n//     console.log('User', response.data.data)\n//     // console.log(\"Type:\", response.data.data.user_type)\n//     console.log(\"userId:\", response.data.data.id)\n//     this.setState((res) => {\n//         if (res.status == false) {\n//             this.setState({\n//                 errorText: data.message\n//             })\n//             if (data.errors) {\n//                 if (data.errors.email) {\n//                     if (data.errors.email.ERR_00001) {\n//                         this.setState({\n//                             emailError: '* Email is required'\n//                         })\n//                     }\n//                     if (data.errors.email.ERR_00005) {\n//                         this.setState({\n//                             emailError: '* Email is invalid'\n//                         })\n//                     }\n//                 }\n//                 if (data.errors.password) {\n//                     if (data.errors.password.ERR_00001) {\n//                         this.setState({\n//                             passwordError: '* Password is required'\n//                         })\n//                     }\n//                 }\n//             }\n//         }\n//     })\n// })\n// .catch((val) => {\n//     console.log(\"error:\", val)\n// })\n}).catch(function(err){console.log({err:err});if(err){// error.classList.add('errorMsg');\n_this2.setState({error:\"Login Failed! Please try again\",loading:true});// error.classList.add('errorMsg');\nsetTimeout(function(){// error.classList.remove('errorMsg')\n_this2.setState({error:\"\",loading:false});},3000);}});}}}},{key:\"render\",value:function render(){// var userId = localStorage.getItem('/');\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"accountbg\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{className:\"logo logo-admin\"},/*#__PURE__*/React.createElement(\"img\",{src:logo3,height:\"70\",alt:\"logo\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 pb-3\"},/*#__PURE__*/React.createElement(\"form\",{className:\"form-horizontal m-t-20\",action:\"index.html\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"email\",name:\"email\",onChange:this.handleEmailChange.bind(this),placeholder:\"Email\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",name:\"password\",onChange:this.PasswordInput.bind(this),placeholder:\"Password\",required:true}))),this.state.errorText?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},this.state.errorText):null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group text-center row m-t-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-block waves-effect waves-light\",type:\"submit\",onClick:this.Login.bind(this)},\"Log In\"))))))))));}}]);return TravelLogin;}(Component);export default TravelLogin;","map":{"version":3,"sources":["D:/Office-Work/Panel/khappay_panel/src/component/TravelLogin.js"],"names":["React","Component","Serverurl","axios","Button","swal","logo3","TravelLogin","props","handleEmailChange","event","setState","target","name","value","onKeyDown","key","preventDefault","stopPropagation","Login","state","data","email","password","errorText","emailError","passwordError","errors","loading","e","validation","emailsyntax","test","error","document","getElementById","classList","add","setTimeout","remove","method","url","then","res","console","log","Data","user_type","success","token","localStorage","setItem","window","location","href","status","catch","err","bind","PasswordInput","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n// import logo2 from \"../component/assets/\";\r\nimport { Serverurl } from \"../Common/ServerUrl\";\r\nimport axios from \"axios\";\r\nimport Button from \"reactstrap-button-loader\";\r\nimport swal from \"sweetalert\";\r\nimport logo3 from \"../../src/component/assets/images/logo_khappay.png\";\r\n\r\nexport class TravelLogin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      email: \"\",\r\n      password: \"\",\r\n      errorText: \"\",\r\n      emailError: \"\",\r\n      passwordError: \"\",\r\n      errors: \"\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  emailInput(e) {\r\n    this.setState({\r\n      errorText: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleEmailChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      emailError: \"\",\r\n    });\r\n  };\r\n\r\n  PasswordInput(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n      errorText: \"\",\r\n    });\r\n  }\r\n\r\n  Login(e) {\r\n    var data;\r\n\r\n    e.preventDefault();\r\n    var validation = true;\r\n\r\n    const emailsyntax = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n    if (this.state.password == \"\") {\r\n      this.setState({\r\n        errorText: \"*Password is required\",\r\n      });\r\n      validation = false;\r\n    }\r\n\r\n    if (!emailsyntax.test(this.state.email)) {\r\n      validation = false;\r\n      this.setState({\r\n        errorText: \"* Incorrect Email format.\",\r\n      });\r\n    }\r\n\r\n    if (this.state.email == \"\") {\r\n      this.setState({\r\n        errorText: \"*Email is required\",\r\n      });\r\n      validation = false;\r\n    }\r\n\r\n    if (validation == true) {\r\n      var data = {\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n      };\r\n\r\n      this.setState({\r\n        loading: true,\r\n      });\r\n\r\n      var error = document.getElementById(\"err\");\r\n      if (this.state.email === \"\" || this.state.password === \"\") {\r\n        this.setState({\r\n          error: \"Please fill fields carefully\",\r\n        });\r\n        error.classList.add(\"errorMsg\");\r\n        setTimeout(() => {\r\n          error.classList.remove(\"errorMsg\");\r\n          this.setState({\r\n            error: \"\",\r\n          });\r\n        }, 3000);\r\n      } else {\r\n        var data;\r\n        axios({\r\n          method: \"post\",\r\n          url: Serverurl + \"login\",\r\n          data: data,\r\n        })\r\n          .then((res) => {\r\n            var validation = false;\r\n            console.log(\"user type: \", res.data.Data.user_type);\r\n            if (res.data.Data.user_type == \"admin\") {\r\n              validation = true;\r\n              // this.setState({\r\n              //   loading: true,\r\n              // });\r\n              // setTimeout(() => {\r\n              //   this.setState({\r\n              //     loading: false,\r\n              //   });\r\n              //   this.setState((willSuccess) => {\r\n              //     if (willSuccess) {\r\n              //       swal(\"error_message[0]\", {\r\n              //         icon: \"warning\",\r\n              //       });\r\n              //     } else {\r\n              //       swal(\"Your imaginary file is safe!\");\r\n              //     }\r\n              //   });\r\n              //   window.location.href = \"/\";\r\n              // }, 3000);\r\n\r\n              console.log(\"res\", res.data.success.token);\r\n              console.log(\"Token\", res.data.token);\r\n              localStorage.setItem(\"token\", res.data.success.token);\r\n              window.location.href = \"/component/Dashboard\";\r\n            }\r\n\r\n            if (validation == false) {\r\n              this.setState({\r\n                errorText: \"*Incorrect email or password\",\r\n              });\r\n            }\r\n\r\n            this.setState({\r\n              data: res.data,\r\n              loading: false,\r\n            });\r\n            if (res.data.status === true) {\r\n              localStorage.setItem(\"userId\", res.data.success.token);\r\n              localStorage.setItem(\"email\", res.data.Data.email);\r\n              localStorage.setItem(\"data\", res.data);\r\n            }\r\n\r\n            localStorage.setItem(\"userId\", res.data.success.token);\r\n\r\n            // axios({\r\n            //     method: 'get',\r\n            //     url: Serverurl + 'user',\r\n            //     headers: {\r\n            //         Authorization: 'Bearer' + ' ' + res.data.data.access_token\r\n            //     }\r\n\r\n            // })\r\n\r\n            // .then((response) => {\r\n            //     console.log('User', response.data.data)\r\n            //     // console.log(\"Type:\", response.data.data.user_type)\r\n            //     console.log(\"userId:\", response.data.data.id)\r\n\r\n            //     this.setState((res) => {\r\n            //         if (res.status == false) {\r\n            //             this.setState({\r\n            //                 errorText: data.message\r\n            //             })\r\n            //             if (data.errors) {\r\n            //                 if (data.errors.email) {\r\n            //                     if (data.errors.email.ERR_00001) {\r\n            //                         this.setState({\r\n\r\n            //                             emailError: '* Email is required'\r\n            //                         })\r\n            //                     }\r\n\r\n            //                     if (data.errors.email.ERR_00005) {\r\n            //                         this.setState({\r\n\r\n            //                             emailError: '* Email is invalid'\r\n            //                         })\r\n            //                     }\r\n            //                 }\r\n            //                 if (data.errors.password) {\r\n            //                     if (data.errors.password.ERR_00001) {\r\n            //                         this.setState({\r\n\r\n            //                             passwordError: '* Password is required'\r\n            //                         })\r\n            //                     }\r\n            //                 }\r\n            //             }\r\n            //         }\r\n            //     })\r\n\r\n            // })\r\n            // .catch((val) => {\r\n            //     console.log(\"error:\", val)\r\n            // })\r\n          })\r\n          .catch((err) => {\r\n            console.log({ err });\r\n            if (err) {\r\n              // error.classList.add('errorMsg');\r\n              this.setState({\r\n                error: \"Login Failed! Please try again\",\r\n                loading: true,\r\n              });\r\n              // error.classList.add('errorMsg');\r\n              setTimeout(() => {\r\n                // error.classList.remove('errorMsg')\r\n                this.setState({\r\n                  error: \"\",\r\n                  loading: false,\r\n                });\r\n              }, 3000);\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeyDown = (event) => {\r\n    // 'keypress' event misbehaves on mobile so we track 'Enter' key via 'keydown' event\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.Login();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    // var userId = localStorage.getItem('/');\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div className=\"accountbg\"></div>\r\n          <div className=\"wrapper-page\">\r\n            <div className=\"card1\">\r\n              <div className=\"card-body\">\r\n                {/* <div id=\"err\">{this.state.error}</div> */}\r\n                <div className=\"text-center\">\r\n                  <a className=\"logo logo-admin\">\r\n                    <img src={logo3} height=\"70\" alt=\"logo\" />\r\n                  </a>\r\n                </div>\r\n\r\n                <div className=\"px-3 pb-3\">\r\n                  <form className=\"form-horizontal m-t-20\" action=\"index.html\">\r\n                    <div className=\"form-group row\">\r\n                      <div className=\"col-12\">\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          onChange={this.handleEmailChange.bind(this)}\r\n                          placeholder=\"Email\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">\r\n                      <div className=\"col-12\">\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          onChange={this.PasswordInput.bind(this)}\r\n                          placeholder=\"Password\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {this.state.errorText ? (\r\n                      <p style={{ color: \"red\" }}>{this.state.errorText}</p>\r\n                    ) : null}\r\n                    <div className=\"form-group text-center row m-t-20\">\r\n                      <div className=\"col-12\">\r\n                        <button\r\n                          className=\"btn btn-danger btn-block waves-effect waves-light\"\r\n                          type=\"submit\"\r\n                          onClick={this.Login.bind(this)}\r\n                        >\r\n                          Log In\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* <div className=\"form-group m-t-10 mb-0 row\">\r\n                      <div className=\"col-sm-12 m-t-20 my-forgot\">\r\n                        <a href=\"/component/TravelForgot\" className=\"text-muted\"><i className=\"mdi mdi-lock\"></i> <small>Forgot your password ?</small></a>\r\n                      </div>\r\n                    </div> */}\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TravelLogin;\r\n"]},"metadata":{},"sourceType":"module"}